[gd_scene load_steps=7 format=3 uid="uid://xid2yes0tgcs"]

[ext_resource type="Texture2D" uid="uid://dy0de8bqdo0cn" path="res://texture DELETE/spaceship3.png" id="1_pq5kf"]
[ext_resource type="Script" path="res://data/EntityData.gd" id="1_so5g7"]
[ext_resource type="Script" path="res://data/ShipData.gd" id="2_3meux"]

[sub_resource type="GDScript" id="GDScript_176tx"]
script/source = "extends EntityScript

func start() -> void:
	cb_on_destroyed(_on_destroyed.bind(\"hello\"))

func _on_destroyed(bind: String):
	print(\"I'm destroyed (also callback works). bind is: \", bind)
"

[sub_resource type="Resource" id="Resource_3rjih"]
script = ExtResource("2_3meux")
display_name = "Ship Test"

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_j2ubx"]
lifetime_randomness = 0.36
particle_flag_disable_z = true
gravity = Vector3(0, 0, 0)
initial_velocity_min = 40.0
initial_velocity_max = 60.0
orbit_velocity_min = 0.0
orbit_velocity_max = 0.0
scale_min = 4.0
scale_max = 4.0

[node name="EntityData" type="Node2D" node_paths=PackedStringArray("collision_shape", "sprite")]
script = ExtResource("1_so5g7")
simulation_script = SubResource("GDScript_176tx")
ship_data = SubResource("Resource_3rjih")
linear_acceleration = 10.0
angular_acceleration = 10.0
collision_shape = NodePath("CollisionShape2D")
sprite = NodePath("Sprite2D")
aproximate_radius = 195.0

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
position = Vector2(0, -158)
rotation = -1.6729
amount = 16
process_material = SubResource("ParticleProcessMaterial_j2ubx")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1_pq5kf")
flip_v = true

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="."]
polygon = PackedVector2Array(-59, -178, 57, -179, 133, -51, 89, 171, -79, 171, -138, -36)
